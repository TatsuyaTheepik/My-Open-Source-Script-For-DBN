local player = game.Players.LocalPlayer
local char = player.Character
local runservice = game:GetService("RunService")


-- COLORS

local yourcolor = Color3.fromRGB(85, 0, 0) -- pick a color from rgb yes i choose red for example
local yourvertexcolor = Vector3.new(1, 1, 1) 

local sphereoutsidecolor = Color3.fromRGB(255, 255, 255) -- pick one noob

local currentform = player:WaitForChild("CurrentForm")
local currentformstr = {"BASE", "SSJ", "SSJ2", "SSJ3", "SSJ4", "SSJG", "SSJB", "SSJBKaioken", "UIOmen"} -- i use this so i dont forget whats their value lol

local SHIRTTEMPLATE = "rbxassetid://urid"
local PANTSTEMPLATE = "rbxassetid://urid"

local ssj4shirt = "rbxassetid://urid"
local ssj4pants = "rbxassetid://urid"

local haircolors = {
	nil, --base
	nil, --ssj
	nil, --ssj2
	nil, --ssj3
	nil, --ssj4
	nil, --ssjg
	nil, --ssjb
	nil, --ssjbkk
	nil -- ui
}

-- FACES

local FACE_TEXTURES = {
	["BASE"] = "rbxassetid://uird",
	["SSJ"] = "rbxassetid://urid",
	["SSJ2"] = "rbxassetid://urid",
	["SSJ3"] = "rbxassetid://urid",
	["SSJ4"] = "rbxassetid://urid",
	["SSJG"] = "rbxassetid://urid",
	["SSJB"] = "rbxassetid://urid",
	["SSJBKaioken"] = "rbxassetid://urid"
}


local function applybeamscolor()
	local beam = char:FindFirstChild("Beam")
	if beam then
		for _,v in beam:GetChildren() do
			v.Color = yourcolor
		end
	end
end

local function applysphereinsidecolor()
	local sphere = char:FindFirstChild("EnergySphere")
	if sphere then
		for _,v in sphere:GetChildren() do
			if v:IsA("Part") then
				v.Color = yourcolor
			end
			if v:IsA("SpecialMesh") then
				v.VertexColor = yourvertexcolor
			end
		end
	end
end

local function applysphereoutsidecolor()
	local sphere = char:FindFirstChild("EnergySphere")
	if sphere then
		while wait() do
			sphere.Color = sphereoutsidecolor
		end
	end
end

local function kiblastcolor()
	local kiblast = char.KiBlast
	if kiblast then
		for i_, v in char:GetDescendants() do
			if v.Name == "KiBlast" and v:IsA("Part") then
				v.Color = yourcolor
			end
		end

	end
end



runservice.Heartbeat:Connect(function(OnHeartBeat)
	applybeamscolor()
	applysphereinsidecolor()
	applysphereoutsidecolor()
	kiblastcolor()
end)

local function applyvfxcolor()
	for _,v in char:GetDescendants() do
		if v.Name == "VFX" or v.Name == "Ring" then
			v.Color = yourcolor
		end
	end
end

runservice.Stepped:Connect(function(Step)
	applyvfxcolor()
end)

runservice.RenderStepped:Connect(function(Render)
	applyvfxcolor()
end)

local function updatefacetexture()
	local currentform = player:WaitForChild("CurrentForm").Value
	if not currentform then return end

	local formStr = tostring(currentform)
	local faceTexture = FACE_TEXTURES[formStr]
	if faceTexture then
		if player.Character and player.Character:FindFirstChild("Head") then
			local head = player.Character.Head
			local face = head:FindFirstChild("face")

			if face:IsA("Decal") then
				face.Texture = faceTexture
			end
		end
	end
end

updatefacetexture()

local function shirtandpantsapply()
	local shirt = char:FindFirstChild("Shirt")
	local pants = char:FindFirstChild("Pants")

	if shirt then
		shirt.ShirtTemplate = SHIRTTEMPLATE
	end

	if pants then
		pants.PantsTemplate = PANTSTEMPLATE
	end
end

shirtandpantsapply()

local function text()
	local text = player.PlayerGui:WaitForChild("Menu"):FindFirstChild("Buttons"):FindFirstChild("Play")
	local text2 = player.PlayerGui:WaitForChild("Menu"):FindFirstChild("Buttons"):FindFirstChild("HowToPlay")

	text.Text = "      Open Source Made by Justice (V1)"
	text2.Visible = true
	text2.Text = "     Open Source Made by Justice (V1)"
end

text()

while wait() do
	local shirt = char:FindFirstChild("Shirt")
	local pants = char:FindFirstChild("Pants")
	if currentform.Value == "SSJ4" then
		shirt.ShirtTemplate = ssj4shirt
		pants.PantsTemplate = ssj4pants
	end
	local currenthair = table.find(currentformstr, currentform.Value)
	if currenthair and haircolors[currenthair] ~= nil then
		local hair = char:FindFirstChild("GokuHair") or char:FindFirstChild("SSJHair") or char:FindFirstChild("SSJ2Hair") or char:FindFirstChild("SSJ3Hair") or char:FindFirstChild("SSJ4Hair")
		hair.Color = haircolors[currenthair]
	end
end



-- thanks for awasessa for adding the currentform  for hair thing
